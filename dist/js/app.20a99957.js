(function(e){function t(t){for(var i,l,d=t[0],c=t[1],a=t[2],u=0,f=[];u<d.length;u++)l=d[u],r[l]&&f.push(r[l][0]),r[l]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);s&&s(t);while(f.length)f.shift()();return o.push.apply(o,a||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,d=1;d<n.length;d++){var c=n[d];0!==r[c]&&(i=!1)}i&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var i={},r={app:0},o=[];function l(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=i,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(n,i,function(t){return e[t]}.bind(null,i));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=t,d=d.slice();for(var a=0;a<d.length;a++)t(d[a]);var s=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("64a9"),r=n.n(i);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Test")],1)},o=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[e._l(e.nodes,function(t,i){return n("div",{key:i,staticClass:"item",attrs:{"data-id":t.id}},[n("div",{staticClass:"desc"},[e._v(e._s(t.desc))]),n("div",{staticClass:"title"},[e._v(e._s(t.title))])])}),n("div",{staticClass:"node-zone"},[n("svg",{attrs:{id:"container",width:"100vw",height:"100vh",viewBox:"0 0 1000 1000",preserveAspectRatio:"xMinYMin meet"}})])],2)},d=[],c=n("75fc"),a=(n("ac6a"),n("4f7f"),n("5df3"),n("1c4c"),n("20d6"),n("7514"),n("55dd"),n("847e")),s=n("fd32"),u=n("d934"),f=n("63b8"),p=50,h=50,v={data:function(){return{container:{},nodes:f.sort(function(e,t){return e.title>t.title?1:-1})}},mounted:function(){var e=document.getElementById("container");this.container=new a["Core"](e,{style:{border:"1px solid #000",overflow:"scroll"},line:{style:{stroke:"deepskyblue"},arrow:{style:{fill:"#888"},viewBox:"0 0 18 18"}},linkDot:{display:"none"},mode:"render-mode"}),console.log(this.nodes),this.initialLayout(this.nodes),this.initialZoom()},methods:{initialZoom:function(){var e=s["f"]("svg"),t=s["g"]("g").filter(".graph, .edges"),n=[.5,8];e.call(u["a"]().scaleExtent(n).on("zoom",function(){t.attr("transform",s["b"].transform)}))},findRoot:function(e){var t=e.find(function(t){if(t.children.length>0){var n=e.findIndex(function(e){return t.parent===e.id});return-1===n}});return t},findChilds:function(e,t){var n=this,i=[],r=e.filter(function(r){if(r.parent===t.id)return r.children.length>0&&(i=n.findChilds(e,r)),r});return Array.from(new Set([].concat(Object(c["a"])(r),Object(c["a"])(i))))},initialLayout:function(e){var t=this,n=this.findRoot(e),i=this.container.nodes.findIndex(function(e){return e.id===n.id});-1===i&&this.createNode(n);var r=e.filter(function(e){return e.parent===n.id}),o=[];r.forEach(function(e){if(e.parent===n.id&&e.children.length>0){var i=r.filter(function(t){return-1!==e.children.indexOf(t.id)}),l=t.findChilds(t.nodes,e);i=Array.from(new Set([e].concat(Object(c["a"])(i),Object(c["a"])(l)))),o.push(i)}});var l=0;r.forEach(function(e,i){var r=t.createNode(e),o=e.children.length;if(o>=1){var d=t.nodes.filter(function(t){if(-1!==e.children.indexOf(t.id))return t}),c=d.reduce(function(e,t){return t.children.length>0?e+t.children.length:e},0),a=t.initialPosition(e,n,l);r.changePosition(a),l+=o>1?o+c:1}else{var s=t.initialPosition(e,n,i);r.changePosition(s),l+=1}}),this.drawLink(r,n),o.length>0&&o.forEach(function(e){t.initialLayout(e)})},initialPosition:function(e,t,n){var i=2*p,r=2*h,o=t.position,l=o.x,d=o.y,c=l+i*n,a=d+r;return e.position.x=c,e.position.y=a,e.position},drawLink:function(e,t){var n=this;e.forEach(function(e){var i=new a["Edge"];n.container.addEdge(i,{source:t.id,target:e.id,dotLink:"bottom",dotEndLink:"top"})})},createNode:function(e){var t='.item[data-id="'.concat(e.id,'"]'),n=document.querySelector(t),i=new a["Node"]({position:e.position,style:{width:p,height:h,userSelect:"none",rx:10},html:{meta:n}});return Object.assign(i,e),this.container.addNode(i),i}}},y=v,x=(n("d47f"),n("2877")),g=Object(x["a"])(y,l,d,!1,null,"4bd1958f",null),b=g.exports,m={name:"app",components:{Test:b}},w=m,O=(n("034f"),Object(x["a"])(w,r,o,!1,null,null,null)),_=O.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(_)}}).$mount("#app")},"63b8":function(e){e.exports=[{id:"43509809",title:"1-2-1",desc:"level",position:{x:50,y:300},children:[],parent:"333"},{id:"3237",title:"1-4-4-2",desc:"level",position:{x:1350,y:400},children:["4234","4235"],parent:"1237"},{id:"333",title:"1-2",desc:"level",position:{x:50,y:200},children:["43509809","43509808","4350980891","43509808123","4350980891424"],parent:"111"},{id:"4350980891",title:"1-2-3",desc:"level",position:{x:150,y:300},children:[],parent:"333"},{id:"1235",title:"1-4-2",desc:"level",position:{x:1150,y:300},children:[],parent:"555"},{id:"222",title:"1-1",desc:"level",position:{x:150,y:200},children:[],parent:"111"},{id:"4350980891424",title:"1-2-5",desc:"level",position:{x:250,y:300},children:[],parent:"333"},{id:"111",title:"0",desc:"level",position:{x:50,y:100},children:["222","333","444","555"],parent:null},{id:"555",title:"1-4",desc:"level",position:{x:1150,y:200},children:["1234","1235","1236","1237"],parent:"111"},{id:"4234",title:"1-4-4-2-1",desc:"level",position:{x:1350,y:500},children:[],parent:"3237"},{id:"2234",title:"1-3-1",desc:"level",position:{x:1950,y:300},children:[],parent:"444"},{id:"1236",title:"1-4-3",desc:"level",position:{x:1250,y:300},children:["3292"],parent:"555"},{id:"43509808123",title:"1-2-4",desc:"level",position:{x:350,y:300},children:[],parent:"333"},{id:"444",title:"1-3",desc:"level",position:{x:1950,y:200},children:["2234","2235"],parent:"111"},{id:"3292",title:"1-4-3-1",desc:"level",position:{x:1250,y:400},children:[],parent:"1236"},{id:"4235",title:"1-4-4-2-2",desc:"level",position:{x:1450,y:500},children:[],parent:"3237"},{id:"43509808",title:"1-2-2",desc:"level",position:{x:450,y:300},children:[],parent:"333"},{id:"2235",title:"1-3-2",desc:"level",position:{x:2050,y:300},children:[],parent:"444"},{id:"1237",title:"1-4-4",desc:"level",position:{x:1350,y:300},children:["3236","3237"],parent:"555"},{id:"1234",title:"1-4-1",desc:"level",position:{x:1450,y:300},children:[],parent:"555"},{id:"3236",title:"1-4-4-1",desc:"level",position:{x:1450,y:400},children:[],parent:"1237"}]},"64a9":function(e,t,n){},"9a3d":function(e,t,n){},ac70:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="ac70"},d47f:function(e,t,n){"use strict";var i=n("9a3d"),r=n.n(i);r.a}});
//# sourceMappingURL=app.20a99957.js.map